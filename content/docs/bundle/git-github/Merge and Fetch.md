# Merge and Fetch

[[Push and Pull]] 에서 Pull 명령어를 사용하면 원격 저장소의 내용을 로컬로 가져와 업데이트할 수 있는 것을 확인했습니다. 그렇다면 이러한 업데이트는 정확히 무엇인지 알아보겠습니다.

## Merge
머지는 원격 저장소의 작업 내용을 결합하는 것이라고 볼 수 있습니다. 대표적으로 Merge를 수행하는 명령어는 Pull 이 있습니다.

앞서 살펴본 Pull의 경우 원격 저장소의 내용을 가져와서 현재 로컬 환경의 코드와 병합하게 됩니다. 이렇게 코드를 직접 결합하는 과정을 머지라고 합니다.

## Fetch
Fetch는 원격 저장소의 변경 이력들을 가져오는 것이라 할 수 있습니다. 원격 저장소의 데이터를 검색하는 것이라고도 표현할 수 있으며, 이는 직접 내용을 가져와 병합하는 과정이 아닌 작업 이력만 가져와 최신을 변경하는 것이라고 할 수 있습니다.

예를 들어 원격 저장소에 아래의 브랜치가 있다고 가정해보겠습니다.

- A-branch
- B-branch

현재 로컬에는 아래의 브랜치가 있다고 가정하겠습니다.

- A-branch

이럴 경우 원격 저장소의 B 브랜치 이력을 가져오고 싶은 경우가 발생합니다. 이때 사용하는 것이 Fetch 입니다.

```
git fetch
```

또는 git fetch --all 명령어로 모든 원격 저장소의 정보를 가져와 로컬에 업데이트할 수 있습니다.

### Pull vs Fetch
Pull 과 Fetch는 유사하지만 분명하게 다른 명령어입니다.

Pull의 경우 원격 저장소의 내용을 바로 가져와서 합치게 되는 명령어입니다. 정확히 어떤 변경 사항이 있고 어떤 내용을 합치게 될 지 분명하게 아는 경우 Pull을 사용해도 되지만 변경 내역을 미리 확인하고 싶다면 Fetch를 사용할 수 있습니다.

Fetch를 사용하게 된다면 변동 이력만 가져오기 때문에 merge(병합)이 발생하지 않습니다.
만약 Fetch 후 가져온 변동 이력을 현재 내 파일에 적용하고 싶다면 merge 명령어를 사용할 수 있습니다.

```
git fetch       // 변동 이력 가져옴
git merge FETCH_HEAD        // 최신 변동 이력을 병합
```

위 과정을 한번에 진행하는 것이 Pull 이 되게 되는 것입니다.

